<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="keywords" content="" />
	<meta name="author" content="" />
	<meta name="robots" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="format-detection" content="telephone=no">

	<title>{% block title %}{% endblock %}</title>
	<link rel="shortcut icon" type="image/png" href="{% static 'images/icon_net.png' %}" />
    <link href="{% static 'vendor/bootstrap-select/dist/css/bootstrap-select.min.css' %}" rel="stylesheet">
	<link href="{% static 'css/style.css' %}" rel="stylesheet">

	<style>
		body[data-theme-mode="light"] .link-list li {}
		body[data-theme-mode="dark"] .link-list li {}
		.link-list {
			display: flex;
			justify-content: space-around;
			flex-wrap: wrap;
			list-style-type: none;
			padding: 0;
		}
		.link-list li {
			flex: 1 1 auto;
			margin: 5px;
			padding: 10px;
			transition: background-color 0.3s;
			text-align: center;
			font-size: 14px;
			border-radius: 5px;
			border: 2px solid #ddd;
			transition: background-color 0.3s, border-color 0.3s;
		}
		.link-list li:hover {
			background-color: hsl(210, 100%, 80%);;
			border-color: blue;
		}
		.link-list a {
			display: block;
			height: 100%;
			width: 100%;
			text-decoration: none;
			color: inherit;
		}

		.sortable:hover .sort-icon {
			content: url('{% static 'icons/svgicons/Navigation/Arrows-v.svg' %}');
		}


	body[data-theme-version="dark"] input[type='date']::-webkit-calendar-picker-indicator {
		filter: invert(100%);
	}

	body[data-theme-version="dark"] input[type='month']::-webkit-calendar-picker-indicator {
		filter: invert(100%);
	}
	</style>


</head>
<body>

    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>

    <div id="main-wrapper">

        <div class="nav-header">
            <a href={% url "monitoring:index" %} class="brand-logo">
                <img class="logo-abbr" src="{% static 'images/logo.png' %}" alt="">
            </a>
            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>

		<div class="fixed-content-box">
			<div class="fixed-content-body dz-scroll" id="DZ_W_Fixed_Contant" style="height: 100%">
				<div class="tab-content" id="menu">
					<div class="tab-pane chart-sidebar fade show active" id="dashboard-area" role="tabpanel"></div>
					<div class="tab-pane fade" id="dashboard" role="tabpanel">
						<ul class="metismenu tab-nav-menu">
							<li class="nav-label">
								ПРИНТЕРЫ | [{{ qty_printers }}]
							</li>
							{% for subnet in subnet_printer_count %}
							<li>
								<a class="has-arrow" href="{% static 'javascript:void()' %}">
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><polygon fill="#000000" opacity="0.3" points="5 7 5 15 19 15 19 7"/>       <path d="M11,19 L11,16 C11,15.4477153 11.4477153,15 12,15 C12.5522847,15 13,15.4477153 13,16 L13,19 L14.5,19 C14.7761424,19 15,19.2238576 15,19.5 C15,19.7761424 14.7761424,20 14.5,20 L9.5,20 C9.22385763,20 9,19.7761424 9,19.5 C9,19.2238576 9.22385763,19 9.5,19 L11,19 Z" fill="#000000" opacity="0.3"/><path d="M5,7 L5,15 L19,15 L19,7 L5,7 Z M5.25,5 L18.75,5 C19.9926407,5 21,5.8954305 21,7 L21,15 C21,16.1045695 19.9926407,17 18.75,17 L5.25,17 C4.00735931,17 3,16.1045695 3,15 L3,7 C3,5.8954305 4.00735931,5 5.25,5 Z" fill="#000000" fill-rule="nonzero"/></g></svg>
									<span class="nav-text">{{ subnet.area_name }}</span>
									<span class="badge badge-xs badge-light">{{ subnet.printer_count }}</span>
								</a>
								<ul aria-expanded="false">
									{% for stamp in unique_stamps %}
									{% if stamp.ip_address__subnet__name == subnet.name %}
									<li>
										<a class="has-arrow" href="{% static 'javascript:void()' %}">{{ stamp.model__stamp__name }}</a>
										<ul aria-expanded="false">
											{% for printer in printers %}
											{% if printer.model.stamp.name == stamp.model__stamp__name and printer.ip_address.subnet.name == subnet.name %}
											<li><a href={% url "monitoring:printer" printer.id %}>{{ printer.model.name }} - {{ printer.location.cabinet.number }}/{{printer.location.department.name}}</a></li>
											{% endif %}
											{% endfor %}
										</ul>
									</li>
									{% endif %}
									{% endfor %}
								</ul>
							</li>
							{% endfor %}
							{% if archived_printers %}
							<li>
								<a class="has-arrow" href="{% static 'javascript:void()' %}">
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><rect x="0" y="0" width="24" height="24"/><polygon fill="#000000" opacity="0.3" points="5 7 5 15 19 15 19 7"/>       <path d="M11,19 L11,16 C11,15.4477153 11.4477153,15 12,15 C12.5522847,15 13,15.4477153 13,16 L13,19 L14.5,19 C14.7761424,19 15,19.2238576 15,19.5 C15,19.7761424 14.7761424,20 14.5,20 L9.5,20 C9.22385763,20 9,19.7761424 9,19.5 C9,19.2238576 9.22385763,19 9.5,19 L11,19 Z" fill="#000000" opacity="0.3"/><path d="M5,7 L5,15 L19,15 L19,7 L5,7 Z M5.25,5 L18.75,5 C19.9926407,5 21,5.8954305 21,7 L21,15 C21,16.1045695 19.9926407,17 18.75,17 L5.25,17 C4.00735931,17 3,16.1045695 3,15 L3,7 C3,5.8954305 4.00735931,5 5.25,5 Z" fill="#000000" fill-rule="nonzero"/></g></svg>
									<span class="nav-text">Архив</span>
									<span class="badge badge-xs badge-light">{{ archived_printers|length }}</span>
								</a>
								<ul aria-expanded="false">
									{% for printer in archived_printers %}
									<li>
										<a href={% url "monitoring:printer" printer.id %}>{{ printer.model }}</a>
									</li>
									{% endfor %}
								</ul>
							</li>
							{% endif %}
						</ul>
					</div>
					<div class="tab-pane fade" id="apps">
						<ul class="metismenu tab-nav-menu">
							<li class="nav-label">УПРАВЛЕНИЕ И ОТЧЕТНОСТЬ</li>
							<li>
								<a href={% url "monitoring:reports" %} class="ai-icon" aria-expanded="false">
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M8,3 L8,3.5 C8,4.32842712 8.67157288,5 9.5,5 L14.5,5 C15.3284271,5 16,4.32842712 16,3.5 L16,3 L18,3 C19.1045695,3 20,3.8954305 20,5 L20,21 C20,22.1045695 19.1045695,23 18,23 L6,23 C4.8954305,23 4,22.1045695 4,21 L4,5 C4,3.8954305 4.8954305,3 6,3 L8,3 Z" fill="#000000" opacity="0.3"/>
											<path d="M11,2 C11,1.44771525 11.4477153,1 12,1 C12.5522847,1 13,1.44771525 13,2 L14.5,2 C14.7761424,2 15,2.22385763 15,2.5 L15,3.5 C15,3.77614237 14.7761424,4 14.5,4 L9.5,4 C9.22385763,4 9,3.77614237 9,3.5 L9,2.5 C9,2.22385763 9.22385763,2 9.5,2 L11,2 Z" fill="#000000"/>
											<rect fill="#000000" opacity="0.3" x="10" y="9" width="7" height="2" rx="1"/>
											<rect fill="#000000" opacity="0.3" x="7" y="9" width="2" height="2" rx="1"/>
											<rect fill="#000000" opacity="0.3" x="7" y="13" width="2" height="2" rx="1"/>
											<rect fill="#000000" opacity="0.3" x="10" y="13" width="7" height="2" rx="1"/>
											<rect fill="#000000" opacity="0.3" x="7" y="17" width="2" height="2" rx="1"/>
											<rect fill="#000000" opacity="0.3" x="10" y="17" width="7" height="2" rx="1"/>
    									</g>
									</svg>
									<span class="nav-text">Отчеты</span>
								</a>
							</li>
							{% if user.is_staff %}
							<li>
								<a href="/admin/" class="ai-icon" aria-expanded="false">
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M7,3 L17,3 C19.209139,3 21,4.790861 21,7 C21,9.209139 19.209139,11 17,11 L7,11 C4.790861,11 3,9.209139 3,7 C3,4.790861 4.790861,3 7,3 Z M7,9 C8.1045695,9 9,8.1045695 9,7 C9,5.8954305 8.1045695,5 7,5 C5.8954305,5 5,5.8954305 5,7 C5,8.1045695 5.8954305,9 7,9 Z" fill="#000000"/>
											<path d="M7,13 L17,13 C19.209139,13 21,14.790861 21,17 C21,19.209139 19.209139,21 17,21 L7,21 C4.790861,21 3,19.209139 3,17 C3,14.790861 4.790861,13 7,13 Z M17,19 C18.1045695,19 19,18.1045695 19,17 C19,15.8954305 18.1045695,15 17,15 C15.8954305,15 15,15.8954305 15,17 C15,18.1045695 15.8954305,19 17,19 Z" fill="#000000" opacity="0.3"/>
										</g>
									</svg>
									<span class="nav-text">Админпанель</span>
								</a>
							</li>
							{% endif %}
							<li>
								<a href={% url "monitoring:events" %} class="ai-icon" aria-expanded="false">
									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M10.9630156,7.5 L11.0475062,7.5 C11.3043819,7.5 11.5194647,7.69464724 11.5450248,7.95024814 L12,12.5 L15.2480695,14.3560397 C15.403857,14.4450611 15.5,14.6107328 15.5,14.7901613 L15.5,15 C15.5,15.2109164 15.3290185,15.3818979 15.1181021,15.3818979 C15.0841582,15.3818979 15.0503659,15.3773725 15.0176181,15.3684413 L10.3986612,14.1087258 C10.1672824,14.0456225 10.0132986,13.8271186 10.0316926,13.5879956 L10.4644883,7.96165175 C10.4845267,7.70115317 10.7017474,7.5 10.9630156,7.5 Z" fill="#000000"/>
											<path d="M7.38979581,2.8349582 C8.65216735,2.29743306 10.0413491,2 11.5,2 C17.2989899,2 22,6.70101013 22,12.5 C22,18.2989899 17.2989899,23 11.5,23 C5.70101013,23 1,18.2989899 1,12.5 C1,11.5151324 1.13559454,10.5619345 1.38913364,9.65805651 L3.31481075,10.1982117 C3.10672013,10.940064 3,11.7119264 3,12.5 C3,17.1944204 6.80557963,21 11.5,21 C16.1944204,21 20,17.1944204 20,12.5 C20,7.80557963 16.1944204,4 11.5,4 C10.54876,4 9.62236069,4.15592757 8.74872191,4.45446326 L9.93948308,5.87355717 C10.0088058,5.95617272 10.0495583,6.05898805 10.05566,6.16666224 C10.0712834,6.4423623 9.86044965,6.67852665 9.5847496,6.69415008 L4.71777931,6.96995273 C4.66931162,6.97269931 4.62070229,6.96837279 4.57348157,6.95710938 C4.30487471,6.89303938 4.13906482,6.62335149 4.20313482,6.35474463 L5.33163823,1.62361064 C5.35654118,1.51920756 5.41437908,1.4255891 5.49660017,1.35659741 C5.7081375,1.17909652 6.0235153,1.2066885 6.2010162,1.41822583 L7.38979581,2.8349582 Z" fill="#000000" opacity="0.3"/>
										</g>
									</svg>
									<span class="nav-text">События</span>
								</a>
							</li>
<!--							<li>-->
<!--								<a href={% url "monitoring:forecast" %} class="ai-icon" aria-expanded="false">-->
<!--									<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="svg-main-icon">-->
<!--										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">-->
<!--											<rect x="0" y="0" width="24" height="24"/>-->
<!--											<path d="M5,19 L20,19 C20.5522847,19 21,19.4477153 21,20 C21,20.5522847 20.5522847,21 20,21 L4,21 C3.44771525,21 3,20.5522847 3,20 L3,4 C3,3.44771525 3.44771525,3 4,3 C4.55228475,3 5,3.44771525 5,4 L5,19 Z" fill="#000000" fill-rule="nonzero"/>-->
<!--											<path d="M8.7295372,14.6839411 C8.35180695,15.0868534 7.71897114,15.1072675 7.31605887,14.7295372 C6.9131466,14.3518069 6.89273254,13.7189711 7.2704628,13.3160589 L11.0204628,9.31605887 C11.3857725,8.92639521 11.9928179,8.89260288 12.3991193,9.23931335 L15.358855,11.7649545 L19.2151172,6.88035571 C19.5573373,6.44687693 20.1861655,6.37289714 20.6196443,6.71511723 C21.0531231,7.05733733 21.1271029,7.68616551 20.7848828,8.11964429 L16.2848828,13.8196443 C15.9333973,14.2648593 15.2823707,14.3288915 14.8508807,13.9606866 L11.8268294,11.3801628 L8.7295372,14.6839411 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>-->
<!--										</g>-->
<!--									</svg>-->
<!--									<span class="nav-text">Прогнозирование</span>-->
<!--								</a>-->
<!--							</li>-->
							<li>
								<a href="https://t.me/PrintMonitorInfoBot" class="ai-icon" aria-expanded="false" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="svg-main-icon">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M3,13.5 L19,12 L3,10.5 L3,3.7732928 C3,3.70255344 3.01501031,3.63261921 3.04403925,3.56811047 C3.15735832,3.3162903 3.45336217,3.20401298 3.70518234,3.31733205 L21.9867539,11.5440392 C22.098181,11.5941815 22.1873901,11.6833905 22.2375323,11.7948177 C22.3508514,12.0466378 22.2385741,12.3426417 21.9867539,12.4559608 L3.70518234,20.6826679 C3.64067359,20.7116969 3.57073936,20.7267072 3.5,20.7267072 C3.22385763,20.7267072 3,20.5028496 3,20.2267072 L3,13.5 Z" fill="#000000"/>
										</g>
									</svg>
									<span class="nav-text">Telegram-бот</span>
                                </a>
							</li>
							<li>
								<a class="nav-link bell dz-theme-mode" href="#" >
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="svg-main-icon">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M12,20 C7.581722,20 4,16.418278 4,12 C4,7.581722 7.581722,4 12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 Z M12,5.99999664 C8.6862915,6 6,8.6862915 6,12 C6,15.3137085 8.6862915,18 12,18.0000034 L12,5.99999664 Z" fill="#000000" fill-rule="nonzero"/>
										</g>
									</svg>
									<span class="nav-text">Смена темы</span>
                                </a>
							</li>
						</ul>
					</div>
				</div>
				<div class="tab-pane chart-sidebar fade show active" role="tabpanel">
					<div class="card">
						<div class="card-header align-items-start">
							<div>
								<h6>Годовая статистика печати</h6>
								<p>Ознакомьтесь с каждым столбцом для получения более подробной информации</p>
							</div>
						</div>
						<div class="card-body">
							<canvas id="daily-sales-chart" height="85" style="height:85px; width: 195px;"></canvas>
						</div>
					</div>
					<div class="card bg-warning-light">
						<div class="card-header align-items-start mb-3">
							<div>
								<h6>Статистика печати за последние 3 месяца</h6>
								<p>Ознакомьтесь с каждым столбцом для получения более подробной информации</p>
							</div>
						</div>
						<div class="card-body">
							<div class="chart-point">
								<div class="card-body">
									<div id="morris_donught" class="morris_chart_height"></div>
								</div>
							</div>
						</div>
					</div>
					<div class="card bg-info-light">
						<div class="card-header align-items-start mb-3">
							<div>
								<h6>Низкий остаток тонера</h6>
								<p>Необходимо заменить картридж в следующих принтерах</p>
							</div>
						</div>
						<div class="card-body">
							<p class="mb-2 d-flex"><img width="22" height="22" src="{% static 'icons/svgicons/Code/Warning-2.svg' %}" class="mr-2" alt=""/>
								{% if first_printer_low_toner.printer.id %}
									<a href="{% url 'monitoring:printer' first_printer_low_toner.printer.id %}">
										{{ first_printer_low_toner.printer.model.stamp.name }} {{ first_printer_low_toner.printer.get_subnet_name }} {{ first_printer_low_toner.printer.location }}
									</a>
									<span class="pull-right text-danger ml-auto">{{first_printer_low_toner.remaining_supply_percentage}}%</span>
								{% else %}
									<span>Принтер не найден</span>
								{% endif %}
							</p>
							<div class="progress mb-3" style="height:4px">
								<div class="progress-bar bg-danger progress-animated" style="width:{{first_printer_low_toner.remaining_supply_percentage}}%; height:4px;" role="progressbar"></div>
							</div>
							<p class="mb-2 d-flex"><img width="22" height="22" src="{% static 'icons/svgicons/Code/Warning-2.svg' %}" class="mr-2" alt=""/>
								{% if second_printer_low_toner.printer.id %}
									<a href={% url "monitoring:printer" second_printer_low_toner.printer.id %}>{{second_printer_low_toner.printer.model.stamp.name}} {{second_printer_low_toner.printer.get_subnet_name}} {{second_printer_low_toner.printer.location}}</a>
									<span class="pull-right text-warning ml-auto">{{second_printer_low_toner.remaining_supply_percentage}}%</span>
								{% else %}
									<span>Принтер не найден</span>
								{% endif %}
							</p>
							<div class="progress mb-3" style="height:4px">
								<div class="progress-bar bg-warning progress-animated" style="width:{{second_printer_low_toner.remaining_supply_percentage}}%; height:4px;" role="progressbar">
								</div>
							</div>
							<p class="mb-2 d-flex"><img width="22" height="22" src="{% static 'icons/svgicons/Code/Warning-2.svg' %}" class="mr-2" alt=""/>
								{% if third_printer_low_toner.printer.id %}
									<a href={% url "monitoring:printer" third_printer_low_toner.printer.id %}>{{third_printer_low_toner.printer.model.stamp.name}} {{third_printer_low_toner.printer.get_subnet_name}} {{third_printer_low_toner.printer.location}}</a>
									<span class="pull-right text-success ml-auto">{{third_printer_low_toner.remaining_supply_percentage}}%</span>
								{% else %}
									<span>Принтер не найден</span>
								{% endif %}
							</p>
							<div class="progress" style="height:4px">
								<div class="progress-bar bg-success progress-animated" style="width:{{third_printer_low_toner.remaining_supply_percentage}}%; height:4px;" role="progressbar"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                        <div class="header-left">
							<h3><strong>Мониторинг принтеров</strong></h3>
                        </div>

                        <ul class="navbar-nav header-right">
							<li class="nav-item dropdown notification_dropdown">
                                <a class="nav-link bell dz-theme-mode" href="#" >
                                    <svg id="icon-night" viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1" style="display: ">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M12.0700837,4.0003006 C11.3895108,5.17692613 11,6.54297551 11,8 C11,12.3948932 14.5439081,15.9620623 18.9299163,15.9996994 C17.5467214,18.3910707 14.9612535,20 12,20 C7.581722,20 4,16.418278 4,12 C4,7.581722 7.581722,4 12,4 C12.0233848,4 12.0467462,4.00010034 12.0700837,4.0003006 Z" fill="#000000"/>
										</g>
									</svg>
                                    <svg id="icon-light" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minimize" style="display: ">
										<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
											<rect x="0" y="0" width="24" height="24"/>
											<path d="M12,15 C10.3431458,15 9,13.6568542 9,12 C9,10.3431458 10.3431458,9 12,9 C13.6568542,9 15,10.3431458 15,12 C15,13.6568542 13.6568542,15 12,15 Z" fill="#ffffff" fill-rule="nonzero"/>
											<path d="M19.5,10.5 L21,10.5 C21.8284271,10.5 22.5,11.1715729 22.5,12 C22.5,12.8284271 21.8284271,13.5 21,13.5 L19.5,13.5 C18.6715729,13.5 18,12.8284271 18,12 C18,11.1715729 18.6715729,10.5 19.5,10.5 Z M16.0606602,5.87132034 L17.1213203,4.81066017 C17.7071068,4.22487373 18.6568542,4.22487373 19.2426407,4.81066017 C19.8284271,5.39644661 19.8284271,6.34619408 19.2426407,6.93198052 L18.1819805,7.99264069 C17.5961941,8.57842712 16.6464466,8.57842712 16.0606602,7.99264069 C15.4748737,7.40685425 15.4748737,6.45710678 16.0606602,5.87132034 Z M16.0606602,18.1819805 C15.4748737,17.5961941 15.4748737,16.6464466 16.0606602,16.0606602 C16.6464466,15.4748737 17.5961941,15.4748737 18.1819805,16.0606602 L19.2426407,17.1213203 C19.8284271,17.7071068 19.8284271,18.6568542 19.2426407,19.2426407 C18.6568542,19.8284271 17.7071068,19.8284271 17.1213203,19.2426407 L16.0606602,18.1819805 Z M3,10.5 L4.5,10.5 C5.32842712,10.5 6,11.1715729 6,12 C6,12.8284271 5.32842712,13.5 4.5,13.5 L3,13.5 C2.17157288,13.5 1.5,12.8284271 1.5,12 C1.5,11.1715729 2.17157288,10.5 3,10.5 Z M12,1.5 C12.8284271,1.5 13.5,2.17157288 13.5,3 L13.5,4.5 C13.5,5.32842712 12.8284271,6 12,6 C11.1715729,6 10.5,5.32842712 10.5,4.5 L10.5,3 C10.5,2.17157288 11.1715729,1.5 12,1.5 Z M12,18 C12.8284271,18 13.5,18.6715729 13.5,19.5 L13.5,21 C13.5,21.8284271 12.8284271,22.5 12,22.5 C11.1715729,22.5 10.5,21.8284271 10.5,21 L10.5,19.5 C10.5,18.6715729 11.1715729,18 12,18 Z M4.81066017,4.81066017 C5.39644661,4.22487373 6.34619408,4.22487373 6.93198052,4.81066017 L7.99264069,5.87132034 C8.57842712,6.45710678 8.57842712,7.40685425 7.99264069,7.99264069 C7.40685425,8.57842712 6.45710678,8.57842712 5.87132034,7.99264069 L4.81066017,6.93198052 C4.22487373,6.34619408 4.22487373,5.39644661 4.81066017,4.81066017 Z M4.81066017,19.2426407 C4.22487373,18.6568542 4.22487373,17.7071068 4.81066017,17.1213203 L5.87132034,16.0606602 C6.45710678,15.4748737 7.40685425,15.4748737 7.99264069,16.0606602 C8.57842712,16.6464466 8.57842712,17.5961941 7.99264069,18.1819805 L6.93198052,19.2426407 C6.34619408,19.8284271 5.39644661,19.8284271 4.81066017,19.2426407 Z" fill="#ffffff" fill-rule="nonzero" opacity="0.3"/>
										</g>
									</svg>
                                </a>
							</li>
							<li class="nav-item dropdown notification_dropdown">
                                <a class="nav-link bell dz-fullscreen" href="#">
                                    <svg id="icon-full" viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>
                                    <svg id="icon-minimize" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minimize"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>
                                </a>
							</li>
                            <li class="nav-item dropdown notification_dropdown">
                                <a class="nav-link bell ai-icon" href="#" role="button" data-toggle="dropdown">
                                    <svg id="icon-user" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bell">
										<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
										<path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
									</svg>
                                    <div class="pulse-css"></div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <div id="DZ_W_Notification1" class="widget-media dz-scroll p-3" style="height:380px;">
										<ul class="timeline">
											{% for event in events_small %}
											<li>
												<div class="timeline-panel">
													{% if event.type == 'Расходный материал' %}
													<div class="media mr-2 media-success">
														sup
													</div>
													{% elif event.type == 'Ошибка' %}
													<div class="media mr-2 media-danger">
														er
													</div>
													{% elif event.type == 'Информация' %}
													<div class="media mr-2 media-info">
														inf
													</div>
													{% endif %}
													<div class="media-body">
														<h6 class="mb-1">{{ event.object_repr }}: {{ event.description }}</h6>
														<small class="d-block">{{ event.action_time }}</small>
													</div>
												</div>
											</li>
											{% endfor %}
										</ul>
									</div>
                                    <a class="all-notification" href='{% url "monitoring:events" %}'>Смотреть все события<i
                                            class="ti-arrow-right"></i></a>
                                </div>
                            </li>
							<li class="nav-item dropdown header-profile">
                                <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-expanded="true">
									{% if user.is_staff and user.is_superuser %}
									<img src="{% static 'images/avatar/superuser.png' %}" width="20" alt="">
									{% elif user.is_staff %}
									<img src="{% static 'images/avatar/admin.png' %}" width="20" alt="">
									{% else %}
									<img src="{% static 'images/avatar/user.png' %}" width="20" alt="">
									{% endif %}
									<div class="header-info">
<!--										{% if user.is_authenticated %}-->
										<span><strong>{{ user.get_username }}</strong></span>
										{% if user.is_staff and user.is_superuser %}
										<small>Сверхчеловек</small>
										{% elif user.is_staff %}
										<small>Администратор</small>
										{% else %}
										<small>Пользователь</small>
										{% endif %}
<!--										{% else %}-->
<!--										<a href="{% url 'login'%}?next={{request.path}}">Login</a>-->
<!--										{% endif %}-->
									</div>
									<div class="dropdown-menu dropdown-menu-right">
                                    <a href="#" class="dropdown-item ai-icon" onclick="document.getElementById('password-change-form').submit(); return false;">
                                        <svg id="icon-user1" xmlns="http://www.w3.org/2000/svg" class="text-primary" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" style="stroke-dasharray: 25, 45; stroke-dashoffset: 0;"></path><path d="M8,7A4,4 0,1,1 16,7A4,4 0,1,1 8,7" style="stroke-dasharray: 26, 46; stroke-dashoffset: 0;"></path></svg>
                                        <span class="ml-2">Сменить пароль </span>
                                    </a>
                                    <a href="#" class="dropdown-item ai-icon " onclick="document.getElementById('logout-form').submit(); return false;">
                                        <svg id="icon-logout" xmlns="http://www.w3.org/2000/svg" class="text-danger" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" style="stroke-dasharray: 29, 49; stroke-dashoffset: 0;"></path><path d="M16,17L21,12L16,7" style="stroke-dasharray: 15, 35; stroke-dashoffset: 0;"></path><path d="M21,12L9,12" style="stroke-dasharray: 12, 32; stroke-dashoffset: 0;"></path></svg>
                                        <span class="ml-2">Выйти </span>
                                    </a>
                                </div>
                                </a>
                            </li>

<!--							<li class="nav-item dropdown header-profile show">-->
<!--                                <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-expanded="true">-->
<!--                                    <img src="images/profile/pic1.jpg" width="20" alt="">-->
<!--									<div class="header-info">-->
<!--										<span>Hey, <strong>Joshua</strong></span>-->
<!--										<small>Business Profile</small>-->
<!--									</div>-->
<!--                                </a>-->
<!--                                <div class="dropdown-menu dropdown-menu-right show">-->
<!--                                    <a href="./app-profile.html" class="dropdown-item ai-icon">-->
<!--                                        <svg id="icon-user1" xmlns="http://www.w3.org/2000/svg" class="text-primary" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" style="stroke-dasharray: 25, 45; stroke-dashoffset: 0;"></path><path d="M8,7A4,4 0,1,1 16,7A4,4 0,1,1 8,7" style="stroke-dasharray: 26, 46; stroke-dashoffset: 0;"></path></svg>-->
<!--                                        <span class="ml-2">Profile </span>-->
<!--                                    </a>-->
<!--                                    <a href="./email-inbox.html" class="dropdown-item ai-icon">-->
<!--                                        <svg id="icon-inbox" xmlns="http://www.w3.org/2000/svg" class="text-success" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" style="stroke-dasharray: 69, 89; stroke-dashoffset: 0;"></path><path d="M22,6L12,13L2,6" style="stroke-dasharray: 25, 45; stroke-dashoffset: 0;"></path></svg>-->
<!--                                        <span class="ml-2">Inbox </span>-->
<!--                                    </a>-->
<!--                                    <a href="./page-login.html" class="dropdown-item ai-icon">-->
<!--                                        <svg id="icon-logout" xmlns="http://www.w3.org/2000/svg" class="text-danger" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" style="stroke-dasharray: 29, 49; stroke-dashoffset: 0;"></path><path d="M16,17L21,12L16,7" style="stroke-dasharray: 15, 35; stroke-dashoffset: 0;"></path><path d="M21,12L9,12" style="stroke-dasharray: 12, 32; stroke-dashoffset: 0;"></path></svg>-->
<!--                                        <span class="ml-2">Logout </span>-->
<!--                                    </a>-->
<!--                                </div>-->
<!--                            </li>-->

                        </ul>
                    </div>
                </nav>
            </div>
        </div>

        <div class="deznav">
            <div class="deznav-scroll">
				<ul class="nav menu-tabs" role="tablist">
					<li class="nav-item" role="presentation">
						<a class="nav-link active ai-icon" data-toggle="tab" href="#dashboard-area" role="tab">
							<svg id="icon-home" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link ai-icon" data-toggle="tab" href="#dashboard" role="tab">
							<svg id="icon-home1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M16,17 L16,21 C16,21.5522847 15.5522847,22 15,22 L9,22 C8.44771525,22 8,21.5522847 8,21 L8,17 L5,17 C3.8954305,17 3,16.1045695 3,15 L3,8 C3,6.8954305 3.8954305,6 5,6 L19,6 C20.1045695,6 21,6.8954305 21,8 L21,15 C21,16.1045695 20.1045695,17 19,17 L16,17 Z M17.5,11 C18.3284271,11 19,10.3284271 19,9.5 C19,8.67157288 18.3284271,8 17.5,8 C16.6715729,8 16,8.67157288 16,9.5 C16,10.3284271 16.6715729,11 17.5,11 Z M10,14 L10,20 L14,20 L14,14 L10,14 Z"/></svg>

						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link ai-icon" data-toggle="tab" href="#apps" role="tab">
							<svg id="icon-apps" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users">
								<path d="M18.6225,9.75 L18.75,9.75 C19.9926407,9.75 21,10.7573593 21,12 C21,13.2426407 19.9926407,14.25 18.75,14.25 L18.6854912,14.249994 C18.4911876,14.250769 18.3158978,14.366855 18.2393549,14.5454486 C18.1556809,14.7351461 18.1942911,14.948087 18.3278301,15.0846699 L18.372535,15.129375 C18.7950334,15.5514036 19.03243,16.1240792 19.03243,16.72125 C19.03243,17.3184208 18.7950334,17.8910964 18.373125,18.312535 C17.9510964,18.7350334 17.3784208,18.97243 16.78125,18.97243 C16.1840792,18.97243 15.6114036,18.7350334 15.1896699,18.3128301 L15.1505513,18.2736469 C15.008087,18.1342911 14.7951461,18.0956809 14.6054486,18.1793549 C14.426855,18.2558978 14.310769,18.4311876 14.31,18.6225 L14.31,18.75 C14.31,19.9926407 13.3026407,21 12.06,21 C10.8173593,21 9.81,19.9926407 9.81,18.75 C9.80552409,18.4999185 9.67898539,18.3229986 9.44717599,18.2361469 C9.26485393,18.1556809 9.05191298,18.1942911 8.91533009,18.3278301 L8.870625,18.372535 C8.44859642,18.7950334 7.87592081,19.03243 7.27875,19.03243 C6.68157919,19.03243 6.10890358,18.7950334 5.68746499,18.373125 C5.26496665,17.9510964 5.02757002,17.3784208 5.02757002,16.78125 C5.02757002,16.1840792 5.26496665,15.6114036 5.68716991,15.1896699 L5.72635306,15.1505513 C5.86570889,15.008087 5.90431906,14.7951461 5.82064513,14.6054486 C5.74410223,14.426855 5.56881236,14.310769 5.3775,14.31 L5.25,14.31 C4.00735931,14.31 3,13.3026407 3,12.06 C3,10.8173593 4.00735931,9.81 5.25,9.81 C5.50008154,9.80552409 5.67700139,9.67898539 5.76385306,9.44717599 C5.84431906,9.26485393 5.80570889,9.05191298 5.67216991,8.91533009 L5.62746499,8.870625 C5.20496665,8.44859642 4.96757002,7.87592081 4.96757002,7.27875 C4.96757002,6.68157919 5.20496665,6.10890358 5.626875,5.68746499 C6.04890358,5.26496665 6.62157919,5.02757002 7.21875,5.02757002 C7.81592081,5.02757002 8.38859642,5.26496665 8.81033009,5.68716991 L8.84944872,5.72635306 C8.99191298,5.86570889 9.20485393,5.90431906 9.38717599,5.82385306 L9.49484664,5.80114977 C9.65041313,5.71688974 9.7492905,5.55401473 9.75,5.3775 L9.75,5.25 C9.75,4.00735931 10.7573593,3 12,3 C13.2426407,3 14.25,4.00735931 14.25,5.25 L14.249994,5.31450877 C14.250769,5.50881236 14.366855,5.68410223 14.552824,5.76385306 C14.7351461,5.84431906 14.948087,5.80570889 15.0846699,5.67216991 L15.129375,5.62746499 C15.5514036,5.20496665 16.1240792,4.96757002 16.72125,4.96757002 C17.3184208,4.96757002 17.8910964,5.20496665 18.312535,5.626875 C18.7350334,6.04890358 18.97243,6.62157919 18.97243,7.21875 C18.97243,7.81592081 18.7350334,8.38859642 18.3128301,8.81033009 L18.2736469,8.84944872 C18.1342911,8.99191298 18.0956809,9.20485393 18.1761469,9.38717599 L18.1988502,9.49484664 C18.2831103,9.65041313 18.4459853,9.7492905 18.6225,9.75 Z" />
        						<path d="M12,15 C13.6568542,15 15,13.6568542 15,12 C15,10.3431458 13.6568542,9 12,9 C10.3431458,9 9,10.3431458 9,12 C9,13.6568542 10.3431458,15 12,15 Z"/>
							</svg>
						</a>
					</li>

				</ul>
			</div>
			<a href="#" class="logout-btn" onclick="document.getElementById('logout-form').submit(); return false;">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out">
					<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
					<polyline points="16 17 21 12 16 7"></polyline>
					<line x1="21" y1="12" x2="9" y2="12"></line>
				</svg>
			</a>

			<form id="logout-form" action="{% url 'logout' %}" method="post" style="display: none;">
				{% csrf_token %}
			</form>

			<form id="password-change-form" action="{% url 'password_change' %}" method="post" style="display: none;">
				{% csrf_token %}
			</form>

        </div>

        <div class="content-body">
			{% block content %}
        	{% endblock %}
        </div>
    </div>

    <script src="{% static 'vendor/global/global.min.js' %}"></script>
    <script src="{% static 'vendor/chart.js/Chart.bundle.min.js' %}"></script>
    <script src="{% static 'js/custom.min.js' %}"></script>
	<script src="{% static 'js/deznav-init.js' %}"></script>
	<script src="{% static 'vendor/svganimation/vivus.min.js' %}"></script>
    <script src="{% static 'vendor/svganimation/svg.animation.js' %}"></script>
    <script src="{% static 'vendor/datatables/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'js/plugins-init/datatables.init.js' %}"></script>
	<script src="{% static 'vendor/raphael/raphael.min.js' %} "></script>
    <script src="{% static 'vendor/morris/morris.min.js' %} "></script>
    <script src="{% static 'js/plugins-init/morris-init.js' %} "></script>
	<script src="{% static 'vendor/bootstrap-select/dist/js/bootstrap-select.min.js' %}"></script>
	<script src="{% static 'js/plugins-init/chartjs-init.js' %}"></script>
	<script>
	function openTab(nm_report, qty_days) {
		window.open(`/report/${nm_report}/${qty_days}`, '_blank');
	};

	document.querySelectorAll('th.sorting, th.sorting_asc').forEach(function(header) {
		header.addEventListener('click', function() {
			document.querySelectorAll('th.sorting').forEach(function(h) {
				h.classList.remove('sorting_asc', 'sorting_desc');
				const icon = h.querySelector('.sort-icon');
				icon.src = "{% static 'icons/svgicons/Navigation/Up-down-new.svg' %}";
			});

			const icon = header.querySelector('.sort-icon');
			if (header.classList.contains('sorting_asc')) {
				header.classList.remove('sorting_asc');
				header.classList.add('sorting_desc');
				icon.src = "{% static 'icons/svgicons/Navigation/Up-down-down.svg' %}";
			} else {
				header.classList.remove('sorting_desc');
				header.classList.add('sorting_asc');
				icon.src = "{% static 'icons/svgicons/Navigation/Up-down-up.svg' %}";
			}
		});
	});
	</script>
	{% block script %}
	{% endblock %}

</body>
</html>